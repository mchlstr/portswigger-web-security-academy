# Lab: Exploiting an API endpoint using documentation

## Lab Description

To solve the lab, **find the exposed API documentation and delete `carlos`**. You can log in to your own account using the following credentials: `wiener:peter`.

Required knowledge
To solve this lab, you'll need to know:

- What API documentation is.
- How API documentation may be useful to an attacker.
- How to discover API documentation.

These points are covered in our API Testing Academy topic.

## Lab Solution

We access the page.

![](01-access-the-page.png)

And try to locate the API documentation. We discovered it at the endpoint `/api`.
![](02-api-documentation-avaliable.png)

After clicking it prompt us for a `string` and afterwards it shows the command to run.

![](03-example-how-to-use-it.png)

`curl -vgw "\n" -X DELETE 'https://0a0200bb03bf204680cacb4000fe000d.web-security-academy.net/api/user/carlos' -d '{}'
`

However, because we are not logged in with enough authorization to use the API, we get 401 status code response - Unauthorized.
![](04-401-unauthorized.png)

We use the provided credentials `wiener:peter` to log in and repeat the action.
![](05-log-in.png)


![](06-logged-in.png)

This time the API accepted and successfully deleted the user `carlos`.
![](07-now-authorized.png)

We can confirm it by sending the request again. This time we get an 400 response, stating `"error": "User not found"`.
![](08-user-not-found.png)
